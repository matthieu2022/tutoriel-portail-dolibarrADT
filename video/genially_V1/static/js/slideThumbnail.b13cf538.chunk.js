"use strict";(self.webpackChunk_genially_view_client=self.webpackChunk_genially_view_client||[]).push([[5066],{95331:(e,t,n)=>{n.r(t),n.d(t,{SlideThumbnail:()=>kt,default:()=>Et});var r=n(17588),o=n(14726),i=n(76336),a=n(22590);let s={getInteractivityActionsSnapshot:()=>{throw new Error("interactivity actions snapshot cannot be resolved with the default document model env")},resolveTaskRef:e=>{const t=(0,a.KW)(e);if(!t)return e;throw new Error(`task ref '${t}' cannot be resolved with the default document model env`)}};function l(){return s}var d=n(43488),c=n(89545),u=n(19769);const m={[i.B.Activities]:u.S.Activity,[i.B.Areas]:u.S.Area,[i.B.Arrows]:u.S.Arrow,[i.B.BaseWidgets]:u.S.BaseWidget,[i.B.Charts]:u.S.Chart,[i.B.ContainerBoxes]:u.S.ContainerBox,[i.B.Groups]:u.S.Group,[i.B.Images]:u.S.Image,[i.B.Pins]:u.S.Pin,[i.B.RichContents]:u.S.RichContent,[i.B.Svgs]:u.S.Svg,[i.B.Texts]:u.S.Text,[i.B.WidgetsAudio]:u.S.WidgetAudio,[i.B.WidgetsVideo]:u.S.WidgetVideo},h={position:"absolute",left:0,right:0,top:0,bottom:0,contain:"strict"},p=(0,o.PA)((e=>{var t,n,o,i;let{backgroundImage:a,backgroundImageOpacity:s,backgroundImageSize:l,backgroundImagePosition:d,backgroundColor:c,onClick:u}=e;const m=u;return r.createElement(r.Fragment,null,r.createElement("div",{onClick:m,style:{...h,backgroundColor:c},role:"button",tabIndex:m?0:void 0,"aria-label":m?"slide background":void 0}),a&&r.createElement("div",{style:{...h,opacity:s,backgroundRepeat:"no-repeat",backgroundPositionX:null!==(t=null===d||void 0===d?void 0:d.PositionLeft)&&void 0!==t?t:0,backgroundPositionY:null!==(n=null===d||void 0===d?void 0:d.PositionTop)&&void 0!==n?n:0,backgroundSize:`${null!==(o=null===l||void 0===l?void 0:l.Width)&&void 0!==o?o:0} ${null!==(i=null===l||void 0===l?void 0:l.Height)&&void 0!==i?i:0}`,backgroundImage:`url('${encodeURI(a)}')`,pointerEvents:"none"}}))})),v=(0,r.createContext)(void 0);function g(){const e=(0,r.useContext)(v);if(!e)throw new Error("FakeItems context missing");return e}const f="CHART_DATA_TABLE",w=function(e){let{isTransversal:t,highestZIndex:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isTransversal:!1,highestZIndex:0};if("data"in e&&e.data){const{ZIndex:r}=e.data;if(void 0!==r&&null!==r){const e=Number(r);return t?e+n:e}}if("ZIndex"in e){const{ZIndex:r}=e;if(void 0!==r&&null!==r){const e=Number(r);return t?e+n:e}}};function I(e){return"serializedData"in e?e.serializedData:"data"in e?"serializedData"in e.data?e.data.serializedData:e.data:e}var y=n(33964),b=n(38850);function x(e){let{item:t,parentContainerBoxItem:n,positioned:r,highestZIndex:o}=e;const i=I(t),a=n?I(n):void 0,s=(0,b.M)({item:i,parentContainerBoxItem:a,positioned:r}),l="isTransversal"in i&&!!i.isTransversal;return s.zIndex=w(t,{isTransversal:l,highestZIndex:null!==o&&void 0!==o?o:0}),s}function C(e,t,n,r){return n?{...x({item:e,parentContainerBoxItem:t,positioned:null!=r}),position:null!=r?"absolute":"relative"}:{contain:"size layout style",...x({item:e,parentContainerBoxItem:t})}}var S=n(37577);const A=S.Ay.div((e=>{let{theme:{color:t}}=e;return{position:"absolute",margin:0,backgroundColor:t.background.accent.default(.15),"& img":{border:`1px solid ${t.border.accent.default()}`,width:"100%",height:"100%",userSelect:"none"}}})),B=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,isIsolated:l=!1}=e;const d=(0,y.l)(s,n,o,i,a),c=C(n,i,l,o);return r.createElement(A,{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{width:"100%",height:"100%",contain:"strict",...c},...d})})));var k=n(97690),E=n(67702),T=n(50844),P=n(75743);var $=n(3784),R=n(8889),z=n(40039),D=n(79410);const F=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:s,rotate:l,events:d}=e;const{delta:c,slide:u,documentConfig:m}=g(),h=(0,y.l)(d,o,i,a,s),p=I(o),{color:v,curveTos:f,dash:x,headType:C,lineCap:S,Opacity:A,source:B,tailType:F,target:M,thickness:W}=p,{sourceRect:L,targetRect:Q}=(0,z.w)(B,M,"logical")(u.items),_=null!==(n=p.dataPositionAndSizeWithoutCurveTos)&&void 0!==n?n:(0,$._)(B,M,"logical")(u.items),G=(0,R.Bw)(f,_),O=e=>e?(0,b.i)(I(e)):void 0,N=function(e){var t,n;let{parentSlideSize:r,parentContainerBoxLayout:o,parentGroupLayout:i}=e;const a={x:0,y:0,width:null===(t=null!==i&&void 0!==i?i:r)||void 0===t?void 0:t.width,height:null===(n=null!==i&&void 0!==i?i:r)||void 0===n?void 0:n.height,rotate:0};return o?(0,P.c)({layout:a,parentLayout:o}):a}({parentGroupLayout:O(i),parentContainerBoxLayout:O(a),parentSlideSize:u.size}),H={...N,rotate:0},{sourceItemSide:q,targetItemSide:V}=(0,D.Q)({source:B,sourceRect:L,target:M,targetRect:Q});return r.createElement(T.i,{"data-cy":`fakeItem-${o.type}-${o.Id}`,color:v,curveTos:G,dash:x,delta:c,documentConfigColors:null===m||void 0===m?void 0:m.colors,eventHandlers:h,headType:C,itemStyle:{display:p.IsHidden?"none":void 0,zIndex:w(o),...(0,E.k)(H)},lineCap:S,opacity:A,ref:t,rotate:l,sourceItemSide:q,sourceRect:L,tailType:F,targetItemSide:V,targetRect:Q,thickness:W,viewBox:N,arrowBetweenItemSidesProps:{style:{transformOrigin:"center center",transform:(0,k.Y)(N.rotate)},selectable:!!t}})})));var M=n(60766);const W=S.Ay.div({position:"absolute",margin:0}),L=S.Ay.div((e=>{let{$padding:t}=e;return{padding:t,width:"inherit",height:"inherit"}})),Q=S.Ay.div((e=>{let{theme:{size:t},$borderRadius:n,$width:r="inherit",$height:o="inherit"}=e;return{width:r,height:o,borderRadius:null!==n&&void 0!==n?n:t.units(2),overflow:"hidden"}})),_=S.Ay.div.attrs((e=>{let{$thumbnail:t}=e;return{style:{backgroundImage:t?`url(${t})`:void 0}}}))((()=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}))),G=S.Ay.div((e=>{let{theme:{color:t,borderRadius:n}}=e;return{width:"100%",height:"100%",backgroundColor:t.background.reversed.default(),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:n.medium,"& *:first-child":{fill:t.content.reversed.default(),width:"40%",height:"40%"}}})),O=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,isRenderingByWidget:l=!1}=e;const{slide:d,isCriticalThumbnail:c}=g(),u=(0,y.l)(s,n,o,i,a),m=I(n),{thumbnail:h}=m,{width:p,height:v,borderRadius:f,padding:w}={width:"inherit",height:"inherit",borderRadius:"inherit",padding:void 0};return r.createElement(W,{ref:t,style:{width:"100%",height:"100%",contain:"strict",...x({item:n,parentContainerBoxItem:i,highestZIndex:d.highestZIndex})},...u},(()=>{return l?r.createElement("div",{className:`${n.Id}-base-widget-thumbnail-free`,"data-critical":`${c}`,style:{width:"100%",height:"100%"}}):h?(e=h,r.createElement(L,{$padding:w},r.createElement(Q,{$borderRadius:f,$width:p,$height:v},r.createElement(_,{$thumbnail:e})))):r.createElement(G,null,r.createElement(M.A,null));var e})())})));var N=n(8144);const H=r.lazy((()=>Promise.all([n.e(2342),n.e(1176)]).then(n.bind(n,3144)))),q=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(H,{...e})),V=r.lazy((()=>n.e(9227).then(n.bind(n,7546)))),Z=e=>r.createElement(r.Suspense,{fallback:null},r.createElement(V,{...e})),j=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s}=e;const{documentConfig:l}=g(),d=(0,y.l)(s,n,o,i,a),{Data:c,Id:u,Options:m,Size:h,Type:p,RawData:v,tableRawData:w,Version:I}="data"in n?n.data:n,b=p,C=b===f,S=I>=1,A=I>=2?N.j.LabelsFontSize:void 0,B=I<2,k=I>=3?m.TextColor:void 0,E={pointerEvents:"none"};return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...x({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===d.onClick?0:void 0,...d},C?r.createElement(Z,{cellStyles:m.CellStyles,data:w||v,id:u,tableStyles:m.TableStyles,normalWordBreak:S,style:E}):r.createElement(q,{colors:[...m.Colors],data:c,enableAnimation:!1,height:h.Height,id:u,invertYAxis:m.InvertYAxis,prefix:m.Prefix,showAxisLabels:m.AxisLabels,showLegend:m.Legend,showTooltip:m.Tooltip,suffix:m.Suffix,textColor:m.TextColor,type:b,width:h.Width,documentConfig:l,lineVariant:m.LineVariant,showLineMarkers:m.ShowMarkers,labelsFontSize:A,showTitles:B,colorAllTexts:k,style:E}))})));var U=n(77714),K=n(55634);const Y=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n,o;let{item:i,events:a,showTemplateCard:s=!1}=e;const{slide:l}=g(),d=null!==(n=l.containerBoxStateMap.get(i.Id))&&void 0!==n?n:{containedItems:[],side:void 0,cardItems:new Map,group:[],currentIndexCard:0},u={...I(i),ZIndex:String(w(i)),type:i.type},m=function(e,t){const n=(0,r.useMemo)((()=>{const n={};return K.K.forEach((r=>{const o=null===e||void 0===e?void 0:e[r];n[r]=o?function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];o(t,...r)}:void 0})),n}),[e,t]);return n}(a,i),h=(e=>{if(!u.group||0===u.group.length)return;const t=u.group.filter((e=>!e.isTemplate));if(0===t.length)return;const n=s?u.group:t;return e>=0&&e<n.length?n[e]:n[0]})(d.currentIndexCard);if(!h||!d.side)return null;const p=d.containedItems.filter((e=>I(e).containerBoxCardId===h.id));return r.createElement(U.x,{ref:t,itemData:u,positioned:!0,sized:!0,rotated:!0,card:h,side:null!==(o=d.side)&&void 0!==o?o:c.Uv.Front,events:m},p.map((e=>I(e).containerBoxSide!==d.side?null:r.createElement(Ct,{key:e.Id,itemType:e.type,item:e,parentGroupItem:void 0,directParentContainerBoxItem:i,indirectParentContainerBoxItem:i,events:a}))))}))),X=S.Ay.div((e=>{let{theme:{size:t}}=e;return{"&.blocked:hover":{"&::before":{content:"",top:t.units(-1/8),left:t.units(-1/8),width:`calc(100% + ${t.units(1/4)})`,height:`calc(100% + ${t.units(1/4)})`,border:"$dashed-border-selected",position:"absolute"}}}})),J=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,isIsolated:l=!1}=e;const d=(0,y.l)(s,n,o,i,a);if(null===n||void 0===n||!n.groupedItems||0===n.groupedItems.length)return null;const c=((e,t)=>t?{position:"relative",...e}:{contain:"layout style",...e})(x({item:n,parentContainerBoxItem:i,positioned:!l}),l);return r.createElement(X,{ref:t,style:{...c},...d},n.groupedItems.map((e=>r.createElement(Ct,{key:e.Id,itemType:e.type,item:e,parentGroupItem:n,directParentContainerBoxItem:void 0,indirectParentContainerBoxItem:a,isIsolated:l,events:s}))))}))),ee="v=cross_origin",te=new Date,ne=`v=${te.getDay().toString()+te.getMonth().toString()+te.getFullYear().toString()}`,re=(e,t)=>{if(!e||!t)throw new Error("This function needs two params");try{let n=e;if(n.includes(t)){const r=e.split(t)[0];n=r.substring(0,r.length-1)}return n}catch(n){return e}};var oe=n(52428),ie=n(42059);var ae=n(18537),se=n(22848);const le=e=>{let{className:t,color:n,height:o,size:i,style:a,width:s,...l}=e;return r.createElement(se.A,{className:t,color:n,height:o,size:i,style:a,viewBox:"0 0 16 16",width:s,...l},r.createElement("g",null,r.createElement("path",{d:"M14,13H2V11L3.59,9.41a2,2,0,0,1,2.82,0L7,10,9.59,7.41a2,2,0,0,1,2.82,0L14,9ZM5.5,4A1.5,1.5,0,1,1,4,5.5,1.5,1.5,0,0,1,5.5,4ZM14,1H2A2,2,0,0,0,0,3V13a2,2,0,0,0,2,2H14a2,2,0,0,0,2-2V3a2,2,0,0,0-2-2Z"})))},de=S.Ay.div((e=>{let{theme:{color:t,size:n,shadow:r}}=e;return{background:t.background.reversed.default(.4),width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:t.content.reversed.default(),borderRadius:n.units(.33),padding:n.units(.5),boxShadow:r.short}})),ce=(0,S.Ay)(le)((()=>({width:"50%",height:"50%"}))),ue=S.Ay.p((e=>{let{theme:{size:t},$showTitle:n}=e;return{display:n?"block":"none",fontSize:t.units(3)}})),me=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:s,events:d,isIsolated:c=!1}=e;const u=(0,y.l)(d,o,i,a,s),m=I(o),{resolveTaskRef:h}=l(),p=function(e){if(!e)return e;if(!e.startsWith("http://")&&!e.startsWith("https://"))return e;let t=e;return e.includes(ee)&&(t=re(t,ne)),e.includes(ne)&&(t=re(t,ee)),t}(h(m.Source)),v=null!==(n=h(m.Offset))&&void 0!==n?n:oe.g,[g,f]=(0,r.useState)(null),[w,b]=(0,r.useState)(!1),[x,S]=(0,r.useState)(null),A=(0,r.useRef)(!1),B=(0,r.useRef)(/\.(gif)|data:image\/gif/.test(p)),k=(0,r.useCallback)((()=>{try{!function(e,t,n){const r=new Image;let o=n;n||(o={mimeType:"image/png"}),r.onload=()=>{try{var e;const n=document.createElement("canvas");n.width=r.width,n.height=r.height;const i=n.getContext("2d");i&&i.drawImage(r,0,0);const a=n.toDataURL(null===(e=o)||void 0===e?void 0:e.mimeType);t(null,a)}catch(n){t(!0,null)}},r.onerror=()=>{t(!0,null)},r.setAttribute("crossOrigin","anonymous"),r.src=(0,ie.g)(e,{v:"anonymous"})}(p,((e,t)=>{A.current&&(e?b(!0):(f(t),S(p)))}))}catch(e){console.warn(e),b(!0)}}),[p]);if((0,r.useEffect)((()=>(A.current=!0,()=>{A.current=!1})),[]),(0,r.useEffect)((()=>{B.current&&k()}),[k]),(0,r.useEffect)((()=>{B.current?!B.current||g&&x===p||k():(f(null),b(!1),S(null))}),[p,g,x,k]),B.current&&!g&&!w)return null;const E=parseFloat(m.Size.Height)<200,T=C(o,a,c,i);return r.createElement("div",{ref:t,style:{contain:"strict",overflow:"hidden",willChange:"transform",...T},className:m.Frame,role:"button",tabIndex:void 0===u.onClick?0:void 0,...u},w?r.createElement(de,null,r.createElement(ce,null),r.createElement(ue,{$showTitle:!E},"GIF")):r.createElement("div",{style:{position:"absolute",top:`${v.top}%`,left:`${v.left}%`,right:`${v.right}%`,bottom:`${v.bottom}%`}},r.createElement("img",{style:{position:"relative",width:"100%",height:"100%",display:"block",maxWidth:"100%",transform:(0,ae.P)(m.Transformations),objectFit:m.objectFit},src:g||p,alt:m.Name})))})));var he=n(48628),pe=n(29523),ve=n(35665),ge=n(75472),fe=n(29707);const we=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:s,documentColors:l,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:h=!1,timerMessage:p,showButton:v}=e;const{Question:g,Answers:f,Appearance:w,Id:I}=t,y=f.filter((e=>{let{Image:t}=e;return t.length>0}));return r.createElement(fe.D,{type:pe.r.Image,itemId:I,question:g||d("__new.editor.activityConfiguration.questionPlaceholder"),disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:l,feedbackText:o,feedbackColor:s,questionSubtitleText:i,appearance:w,showButton:v,answers:y,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:h,timerMessage:p,dataCy:"imageInteractiveQuestionItem"})};we.Container=fe.D.Container,we.Question=fe.D.Question,we.Subtitle=fe.D.Subtitle,we.Answers=fe.D.Answers,we.Answer=fe.D.Answer,we.Feedback=fe.D.Feedback,we.Button=fe.D.Button;const Ie=(0,o.PA)(we),ye=(0,o.PA)((e=>{let{item:t,disabled:n,showAnswersIcon:o,selectedAnswerIds:i=[],hasDefaultAnimation:a=!1,documentColors:s,feedbackText:l,feedbackColor:d,questionSubtitleText:c,answerSelectedPreview:u=!1,showCorrectAnswers:m=!1,timerMessage:h,showResultPreview:p=!1,t:v,showButton:g}=e;const{Question:f,Answers:w,Appearance:I,Id:y}=t,b=w.filter((e=>{let{Image:t}=e;return t.length>0}));return r.createElement(fe.D,{type:pe.r.ImageSurvey,itemId:y,disabled:n,question:f||v("__new.editor.canvas.pictureSurvey.title"),showAnswersIcon:o,hasDefaultAnimation:a,documentColors:s,feedbackText:l,feedbackColor:d,questionSubtitleText:c,appearance:I,showButton:g,answers:b,answerSelectedPreview:u,selectedAnswerIds:i,showCorrectAnswers:m,timerMessage:h,showResultPreview:p,showResultEnabled:t.Options.ShowResults,dataCy:"imageSurveyInteractiveQuestionItem"})}));var be=n(42118);const xe=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:s,documentColors:l,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:h=!1,timerMessage:p,showButton:v}=e;const{Question:g,Answers:f,Appearance:w,Id:I}=t,y=f.filter((e=>{let{Text:t}=e;return t.length>0})),b=d(f.filter((e=>{let{IsCorrect:t}=e;return t})).length>1?"__new.editor.content.questionMultiple":"__new.editor.content.uniqueChoice");return r.createElement(fe.D,{type:pe.r.Quiz,itemId:I,question:g||b,disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:l,feedbackText:o,feedbackColor:s,questionSubtitleText:i,appearance:w,showButton:v,answers:y,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:h,timerMessage:p,dataCy:"quizInteractiveQuestionItem"})};xe.Container=fe.D.Container,xe.Question=fe.D.Question,xe.Subtitle=fe.D.Subtitle,xe.Answers=fe.D.Answers,xe.Answer=fe.D.Answer,xe.Feedback=fe.D.Feedback,xe.Button=fe.D.Button;const Ce=(0,o.PA)(xe);var Se=n(96526),Ae=n(85491);const Be=e=>{let{item:t,disabled:n,feedbackText:o,questionSubtitleText:i,showAnswersIcon:a,feedbackColor:s,documentColors:l,t:d,hasDefaultAnimation:c=!1,answerSelectedPreview:u=!1,selectedAnswerIds:m,showCorrectAnswers:h=!1,showResultPreview:p=!1,timerMessage:v,showButton:g}=e;const{Question:f,Answers:w,Appearance:I,Id:y}=t,b=w.filter((e=>{let{Text:t}=e;return t.length>0})),x=d("__new.editor.content.questionMultiple");return r.createElement(fe.D,{type:pe.r.Survey,itemId:y,question:f||x,disabled:n,showAnswersIcon:a,hasDefaultAnimation:c,documentColors:l,feedbackText:o,feedbackColor:s,questionSubtitleText:i,appearance:I,showButton:g,answers:b,answerSelectedPreview:u,selectedAnswerIds:m,showCorrectAnswers:h,showResultPreview:p,showResultEnabled:t.Options.ShowResults,timerMessage:v,dataCy:"surveyInteractiveQuestionItem"})};Be.Container=fe.D.Container,Be.Question=fe.D.Question,Be.Subtitle=fe.D.Subtitle,Be.Answers=fe.D.Answers,Be.Answer=fe.D.Answer,Be.Feedback=fe.D.Feedback,Be.Button=fe.D.Button;const ke=(0,o.PA)(Be),Ee=e=>{let{item:t,disabled:n,feedbackText:o,showAnswersIcon:i,feedbackColor:a,documentColors:s,t:l,hasDefaultAnimation:d=!1,answerSelectedPreview:c=!1,selectedAnswerIds:u,showCorrectAnswers:m=!1,timerMessage:h}=e;const{Question:p,Answers:v,Appearance:g,Id:f,Options:w}=t;return r.createElement(fe.D,{type:pe.r.TrueFalse,itemId:f,question:p||l("__new.editor.content.placeholderQuestionTrueFalse"),disabled:n,showAnswersIcon:i,hasDefaultAnimation:d,documentColors:s,feedbackText:o,feedbackColor:a,appearance:g,showButton:w.ShowButton,answers:v,answerSelectedPreview:c,selectedAnswerIds:u,showCorrectAnswers:m,timerMessage:h,dataCy:"trueFalseInteractiveQuestionItem"})};Ee.Container=fe.D.Container,Ee.Question=fe.D.Question,Ee.Answers=fe.D.Answers,Ee.Answer=fe.D.Answer,Ee.Feedback=fe.D.Feedback,Ee.Button=fe.D.Button;const Te=(0,o.PA)(Ee);var Pe=n(37643),$e=n(16147),Re=n(34968);const ze=S.Ay.input((e=>{let{theme:{size:t,transition:n},$borderColor:r,$isFilled:o,$color:i}=e;return{width:o?"100%":t.units(19),height:"auto",minHeight:t.units(4),fontSize:o?"20px":"16px",padding:`0 ${t.units(1.5)}`,backgroundColor:"transparent",border:`1px 'solid' ${r}`,borderRadius:t.units(.5),transition:n.standard(),textAlign:"center",lineHeight:t.units(5),justifyContent:"center",alignItems:"center",gap:t.units(.5),color:i,"::placeholder":{color:(0,Re.Z6)(i,.7).hexAlpha},...Re.iF.mixins.ellipsis(!0)}})),De=S.Ay.span((e=>{let{theme:{size:t}}=e;return{position:"relative",margin:`0 ${t.units(.5)}`,display:"inline-flex",flexDirection:"column",[ze]:{marginTop:t.units(1)}}})),Fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if("number"===typeof e)return`${e}px`;if("string"===typeof e){const r=e.trim().match(/^([\d.]+)(px|pt|rem|em)?$/i);if(r&&r[1]){var n;const e=parseFloat(r[1]),o=null===(n=r[2])||void 0===n?void 0:n.toLowerCase();return`${(()=>{switch(o){case"px":case void 0:return e;case"pt":return e*(96/72);case"rem":case"em":return e*t;default:return e}})()}px`}}return`${t}px`},Me=(0,r.forwardRef)(((e,t)=>{var n,o,i;let{node:a,appearance:s,answers:l,documentColors:d}=e;const c=(0,S.DP)(),{id:u}=a.attrs,m=l.find((e=>e.Id===u)),h=null!==(n=null===m||void 0===m?void 0:m.Text)&&void 0!==n?n:"",p=(0,$e.O)(d);return r.createElement(De,{$isFilled:!!h},r.createElement(ze,{ref:t,contentEditable:!1,$borderColor:null!==(o=p(s.Text.FontColor))&&void 0!==o?o:c.color.border.tertiary.default(),$color:null!==(i=p(s.Text.FontColor))&&void 0!==i?i:c.color.content.primary.default(),$isFilled:!0,value:h,size:h.length>0?h.length:1,style:{...(()=>{var e,t,n,r,o,i,l,d;const{marks:u}=a,m=null===(e=u.find((e=>"fontSize"===e.type.name)))||void 0===e?void 0:e.attrs.size;return{fontFamily:null===(t=u.find((e=>"fontFamily"===e.type.name)))||void 0===t?void 0:t.attrs.fontFamily,fontSize:m?Fe(m):"20px",fontWeight:u.some((e=>"bold"===e.type.name))?"bold":"normal",fontStyle:u.some((e=>"italic"===e.type.name))?"italic":"normal",textDecoration:u.some((e=>"underline"===e.type.name))?"underline":"none",color:null!==(n=p(null!==(r=null===(o=u.find((e=>"textColor"===e.type.name)))||void 0===o?void 0:o.attrs.color)&&void 0!==r?r:s.Text.FontColor))&&void 0!==n?n:c.color.content.primary.default(),backgroundColor:null!==(i=p(null===(l=u.find((e=>"backgroundColor"===e.type.name)))||void 0===l?void 0:l.attrs.color))&&void 0!==i?i:"transparent",textTransform:null===(d=u.find((e=>"textCase"===e.type.name)))||void 0===d?void 0:d.attrs.casing}})()},readOnly:!0}))}));class We extends Pe.udg{constructor(e){super(e),this.ReactComponent=(0,r.forwardRef)(((e,t)=>{const{node:n}=e;return r.createElement(Me,{ref:t,node:n,appearance:this.appearance,documentColors:this.documentColors,answers:this.answers})})),this.appearance=e.appearance,this.answers=e.answers,this.documentColors=e.documentColors}get name(){return"blankReactNode"}createNodeSpec(){return{attrs:{id:{default:void 0},index:{default:void 0}},content:"block*",group:"inline",inline:!0,atom:!0,toDOM:e=>["blank-react-node",{index:e.attrs.index,id:e.attrs.id},0],parseDOM:[{tag:"blank-react-node",getAttrs:e=>({index:e.getAttribute("index"),id:e.getAttribute("id")})}]}}}We.defaultOptions={disableExtraAttributes:!0,appearance:{},documentColors:{},answers:[]};var Le=n(13262),Qe=n(87716),_e=n(69396),Ge=n(50260),Oe=n(73908),Ne=n(58654),He=n(30620),qe=n(93542),Ve=n(7540),Ze=n(59292),je=n(82260),Ue=n(43412),Ke=n(9475);const Ye=e=>{let{content:t,extensions:n}=e;const o=new Set([new Qe.v({}),new _e.y({}),new Ge.uj({}),new Oe.l({}),new Ne.A,new He.U,new qe.f({}),new Ve.p({}),new Ze.u,new je.E,new Ue.p({}),new Ke.XS({}),new Ke.IQ({}),...n||[]]),{manager:i,state:a}=(0,Le._B)({extensions:()=>Array.from(o),content:t,stringHandler:"html"});return r.createElement(Le.tj,{manager:i,state:a,editable:!1,onChange:()=>{}})},Xe=(0,S.Ay)(Re.$v)((e=>{let{$color:t}=e;return{color:t,lineHeight:"initial"}})),Je=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,selectedAnswerIds:s,showCorrectAnswers:l=!1,events:d}=e;const{t:c,documentConfig:u}=g(),m=(0,y.l)(d,n,o,i,a),h=I(n),{Frame:p,Type:v}=h;return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",overflow:"hidden",...x({item:n,parentContainerBoxItem:i})},className:p,role:"button",tabIndex:void 0===m.onClick?0:void 0,...m},(()=>{switch(v){case pe.r.Quiz:return r.createElement(Ce,{key:n.Id,item:h,t:c,selectedAnswerIds:s,showCorrectAnswers:l,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors,showButton:h.Options.ShowButton});case pe.r.OpenAnswer:return r.createElement(be.R,{key:n.Id,item:h,t:c,userAnswer:null!==s&&void 0!==s&&s.length?s[0]:void 0,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors});case pe.r.TrueFalse:return r.createElement(Te,{key:n.Id,item:h,t:c,selectedAnswerIds:s,showCorrectAnswers:l,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors});case pe.r.Image:return r.createElement(Ie,{key:n.Id,item:h,t:c,selectedAnswerIds:s,showCorrectAnswers:l,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors,showButton:h.Options.ShowButton});case pe.r.ShortAnswer:return r.createElement(Se.v,{key:n.Id,item:h,t:c,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors,QuestionTitleComponent:h?r.createElement(Ye,{content:h.Question}):void 0});case pe.r.ImageSurvey:return r.createElement(ye,{key:n.Id,item:h,disabled:l,selectedAnswerIds:s,showAnswersIcon:!0,t:c,showButton:h.Options.ShowButton});case pe.r.Sort:return r.createElement(Ae.N,{key:n.Id,item:h,t:c,showCorrectAnswers:l,disabled:l,documentColors:null===u||void 0===u?void 0:u.colors});case pe.r.Survey:return r.createElement(ke,{key:n.Id,item:h,t:c,selectedAnswerIds:s,showButton:h.Options.ShowButton});case pe.r.FillInTheBlanks:return r.createElement(ge.V,{documentColors:null===u||void 0===u?void 0:u.colors,key:n.Id,item:h,showQuestion:h.Options.ShowQuestion,userWordIds:{},setUserWordIds:()=>{},QuestionContent:h?r.createElement(Ye,{content:h.Text,extensions:[new We({appearance:h.Appearance,documentColors:null===u||void 0===u?void 0:u.colors,answers:h.Answers})]}):void 0,QuestionTitleComponent:h&&h.Question?r.createElement(Ye,{content:h.Question,extensions:[new he.sR({nodeViewComponents:{paragraph:e=>{let{forwardRef:t}=e;return r.createElement(Xe,{ref:t,$color:h.Appearance.Question.FontColor})}}})]}):void 0});case pe.r.BranchingScenario:return r.createElement(ve.P,{key:n.Id,item:h,QuestionTitleComponent:h?r.createElement(Ye,{content:h.Question}):void 0,selectedAnswerIds:s});default:throw new Error(`InteractiveQuestion type ${v} does not have any component associated`)}})())}))),et=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s}=e;const l=(0,y.l)(s,n,o,i,a),d=I(n);return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...x({item:n,parentContainerBoxItem:i}),zIndex:99999,maxWidth:"100%",width:"100%",height:"100%"},role:"button",tabIndex:void 0===l.onClick?0:void 0,...l},r.createElement("img",{style:{width:32,height:32},src:d.Source,alt:d.Name}))}))),tt=S.Ay.div((e=>{let{theme:{color:t,size:n}}=e;return{background:t.background.reversed.default(.4),width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:t.content.reversed.default(),borderRadius:n.units(2/3),padding:n.units(1),paddingLeft:void 0,boxShadow:`0 1px ${n.units(1)} 0 ${t.shadow.primary.default(.2)}`,"& svg":{width:n.units(5.5)}}})),nt=S.Ay.div.attrs((e=>{let{$thumbnail:t}=e;return{style:{background:`center / cover url(${t}) no-repeat`}}}))((()=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}))),rt=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s}=e;const l=(0,y.l)(s,n,o,i,a),d=I(n),{thumbnail:c}=d,u=parseInt(d.Size.Height,10)<50?"80%":"100%";return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...x({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===l.onClick?0:void 0,...l},c?r.createElement(nt,{$thumbnail:c}):r.createElement(tt,null,r.createElement(M.A,{height:u})))}))),ot=S.Ay.div({position:"absolute",display:"inherit",fontSize:"99%","& svg":{display:"inherit",fontSize:"99%",pointerEvents:"none",animation:"none",filter:"none"},"& svg > *":{animation:"none",filter:"none"},"& svg text":{userSelect:"none",cursor:"default",fontSize:"99%"}}),it=/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),at=(0,o.PA)((0,r.forwardRef)(((e,t)=>{var n;let{item:o,parentGroupItem:i,directParentContainerBoxItem:a,indirectParentContainerBoxItem:s,events:d,isIsolated:c=!1}=e;const u=(0,y.l)(d,o,i,a,s),m=(0,r.useRef)(null),h=I(o),{resolveTaskRef:p}=l(),v=null===(n=h.Colors)||void 0===n?void 0:n[0],g=p(h.SourceSvg);(0,r.useLayoutEffect)((()=>{const e=m.current;e&&(e.querySelectorAll(".color1").forEach((e=>{e.style.fill=v})),it&&e.querySelectorAll("linearGradient").forEach((e=>{const t=e.id;e.setAttribute("id","rerender"),e.setAttribute("id",t)})))}),[g,v]);const f=(0,r.useCallback)((e=>{m.current=e,t&&("function"===typeof t?t(e):"object"===typeof t&&(t.current=e))}),[t]),w=C(o,a,c,i);return r.createElement(ot,{className:"svg-item svg-item-fake",dangerouslySetInnerHTML:{__html:g},ref:f,style:{...w},...u})})));var st=n(69561),lt=n(8944),dt=n(65210);const ct=S.Ay.div({"-webkit-line-break":"after-white-space","-webkit-nbsp-mode":"normal",lineBreak:"normal",display:"block",outline:"none","&.text-bold":{fontWeight:"bold"},"&.text-italic":{fontStyle:"italic"},"&.text-align-left":{textAlign:"left"},"&.text-align-right":{textAlign:"right"},"&.text-align-justify":{textAlign:"justify"},"&.text-align-center":{textAlign:"center"},"&.uppercase":{textTransform:"uppercase"},"& sub":{verticalAlign:"sub",fontSize:"60%"},"& sup":{verticalAlign:"super",fontSize:"60%"},"&.genially-view-text-indent-list-v4":{"ul, ol":{paddingLeft:"1.8em",listStylePosition:"outside"}},"& *":{pointerEvents:"none"},"& ul":{listStyleType:"disc",ul:{listStyleType:"circle",ul:{listStyleType:"square"}}},"& ol":{listStyleType:"decimal",ol:{listStyleType:"lower-latin",ol:{listStyleType:"lower-roman"}}}},(e=>{let{theme:{color:t,size:n}}=e;return{"&.text-effect-shadow":{textShadow:`2px 2px 6px ${t.shadow.primary.default(.5)}`},"&.interparagraph_medium":{...Re.iF.mixins.setInterparagraph(n.units(1))},"&.interparagraph_big":{...Re.iF.mixins.setInterparagraph(n.units(2.25))},"& p":{margin:`0 0 ${n.units(1.25)}`},"& ul, & ol":{lineBreak:"normal",display:"block",marginTop:0,marginBottom:0,paddingLeft:n.units(3.125),listStylePosition:"inside"},"&.genially-view-text-indent-list-v3":{"ul, ol":{paddingLeft:n.units(6.25),listStylePosition:"outside"}},"&.genially-view-text-indent-paragraph-v5 blockquote":{margin:`0 0 0 ${n.units(5)}`,border:"none",padding:0}}})),ut=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,isIsolated:l=!1}=e;const{canBeTranslated:d}=g(),c=(0,y.l)(s,n,o,i,a),u=I(n),m=(0,dt.I)(u),h=u.Version>=6,p=C(n,i,l,o);return r.createElement(ct,{ref:t,className:(0,st.A)([m,{notranslate:!d}]),style:{backgroundColor:u.Background,color:u.Color,fontSize:u.FontSize,fontFamily:(0,lt.f)(u.FontFamily,h),padding:u.Padding,lineHeight:u.LineHeight,letterSpacing:`${u.LetterSpacing}px`,wordWrap:u.Version<2?"initial":"break-word",...p},dangerouslySetInnerHTML:{__html:u.TextMessage},...c})})));var mt=n(63507),ht=n(55404);const pt=(0,S.Ay)(Re.Lf)((e=>{let{theme:{color:t}}=e;return{color:t.content.secondary.default()}})),vt=(0,S.SL)((e=>{let{theme:{color:t},width:n,name:o}=e;const i=(0,mt.v4)(),[a,s]=(0,r.useState)(null),[l,d]=(0,r.useState)(null),c=(0,r.useCallback)((()=>{const e=[];for(let t=0;t<41;t+=1)e.push(128);if(a&&l){l.clearRect(0,0,a.width,a.height),l.fillStyle=t.content.secondary.default();for(let t=0;t<41;t+=1){var n;const r=8*t,o=4,i=-((null!==(n=e[t])&&void 0!==n?n:0)/2||5);l.fillRect(r,a.height,o,i)}}}),[a,l,t.content.secondary]);return(0,r.useEffect)((()=>{const e=document.querySelector(`#canva-element-fake${i}`);e&&(s(e),d(e.getContext("2d")),c())}),[i,c]),r.createElement("div",{className:"widget-audio-player"},r.createElement("div",{className:"widget-audio-player-play-container"},r.createElement(ht.A,null)),r.createElement("div",{className:"widget-audio-player-info-container"},r.createElement("div",{className:"widget-audio-player-bars-group",id:"widget-audio-player-bars-group"},r.createElement("canvas",{id:`canva-element-fake${i}`,style:{width:"100%",height:"42%"}})),r.createElement("div",{className:"widget-audio-player-file-progress-bar"}),r.createElement("div",{className:"widget-audio-player-file-name-container"},r.createElement(pt,{className:"widget-audio-player-file-name",style:{fontSize:parseFloat(n)/22}},o))))})),gt=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s}=e;const{t:l}=g(),d=(0,y.l)(s,n,o,i,a),c=I(n),{Name:u,Size:m}=c;return r.createElement("div",{"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...x({item:n,parentContainerBoxItem:i})},role:"button",tabIndex:void 0===d.onClick?0:void 0,...d},r.createElement(vt,{name:u||l("__new.shared.items.type.widget-audio"),width:m.Width}))})));var ft=n(94470),wt=n(70445),It=n(47836);const yt=S.Ay.div((()=>({}))),bt=S.Ay.div((e=>{let{theme:{color:t}}=e;return{background:t.background.reversed.default(.8),color:t.content.reversed.default(),"& svg":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}})),xt=(0,o.PA)((0,r.forwardRef)(((e,t)=>{let{item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s}=e;const[l,d]=(0,r.useState)(!1),c=I(n),{Thumbnail:u,Name:m,Size:h}=c,p=c.UploadedFrom===ft.xG.File,{isVideoVisualizationForbidden:v,isOffline:f}=g(),w=(0,r.useCallback)((()=>{d(!0)}),[]),b={...(0,y.l)(s,n,o,i,a),onError:w},C={"data-cy":`fakeItem-${n.type}-${n.Id}`,ref:t,style:{contain:"strict",...x({item:n,parentContainerBoxItem:i})},...b};return p&&(l||v)?r.createElement(yt,{style:C.style},r.createElement(wt.S,{isVisualizationForbidden:v,width:parseFloat(h.Width)})):u?r.createElement(It.u,{alt:null!==m&&void 0!==m?m:"",dataCy:C["data-cy"],itemEvents:b,ref:C.ref,src:u,style:C.style,isOffline:f}):r.createElement(bt,{...C},r.createElement(le,{height:"50%",width:"50%"}))}))),Ct=(0,o.PA)((e=>{let{itemType:t,item:n,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,onMount:l,isDeveloperMode:d=!1,isIsolated:c=!1}=e;const m=g(),h=(0,r.useRef)(null);function p(e){return{item:e.item,parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,ref:m.renderItem?h:void 0,events:s}}function v(e){switch(t){case u.S.Activity:return r.createElement(Je,{...p(e)});case u.S.Area:return r.createElement(B,{...p(e),isIsolated:c});case u.S.Arrow:return r.createElement(F,{...p(e)});case u.S.BaseWidget:return r.createElement(O,{...p(e),isRenderingByWidget:!!l});case u.S.Chart:case f:return r.createElement(j,{...p(e)});case u.S.Group:return r.createElement(J,{...p(e),isIsolated:c});case u.S.Image:return r.createElement(me,{...p(e),isIsolated:c});case u.S.Pin:return r.createElement(et,{...p(e)});case u.S.RichContent:return r.createElement(rt,{...p(e)});case u.S.Svg:return r.createElement(at,{...p(e),isIsolated:c});case u.S.Text:return r.createElement(ut,{...p(e),isIsolated:c});case u.S.WidgetAudio:{const t=I(n);return t.DisplayPlayer&&!t.IsBackground?r.createElement(gt,{...p(e)}):null}case u.S.WidgetVideo:return r.createElement(xt,{...p(e)});case u.S.ContainerBox:return r.createElement(Y,{...p(e),showTemplateCard:d});default:return console.error(`tried to render a fake item for the unknown item type ${t}`),null}}return(0,r.useEffect)((()=>{l&&l(n)}),[n,l]),m.renderItem?m.renderItem({item:n,itemId:n.Id,itemType:t,itemRef:h,itemZIndex:w(n),parentGroupItem:o,directParentContainerBoxItem:i,indirectParentContainerBoxItem:a,events:s,renderItemNode:v}):v({item:n})})),St=e=>{if("allItems"in e&&e.allItems)return e.allItems;const t=[];return Object.values(i.B).forEach((n=>{const r=e[n];if(r){const e=(e=>m[e])(n);r.forEach((n=>{n&&"object"===typeof n&&t.push(((e,t)=>"type"in e?e:{...e,type:t})(n,e))}))}})),t},At=[];function Bt(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>(e=>{const t=I(e);return!((0,d.X)(t)&&t.IdGroup)&&!((0,c.Kb)(t)&&t.containerBoxId)})(e))).map((e=>({item:e,itemType:t}))))&&void 0!==n?n:At}const kt=(0,o.PA)((e=>{var t,n,o,a,s,d,m,h,g,f,w,y,b,x,C,S,A,B,k,E;let{canBeTranslated:T=!0,delta:P,documentConfig:$,onBackgroundClick:R,onItemClick:z,onItemMouseEnter:D,onItemMouseLeave:F,renderItem:M,onItemMount:W,showBackgroundColor:L=!0,showBackgroundImage:Q=!0,slide:_,t:G,isVideoVisualizationForbidden:O=!1,containerBoxStateMap:N,isOffline:H=!1,transversalItems:q=[],isDeveloperMode:V=!1,isCriticalThumbnail:Z=!1}=e;const j=((e,t)=>{if(t)return"data"in e?e.data.BackgroundColor:e.BackgroundColor})(_,L),U=((e,t)=>{var n;if(t)return"Background"in e?e.Background:null===(n=e.background)||void 0===n?void 0:n.currentBackgroundImage})(_,Q),K=(e=>{if("data"in e){const{resolveTaskRef:t}=l();return t(e.data.SizeBackground)}return e.SizeBackground?e.SizeBackground:e.BackgroundHeight&&e.BackgroundWidth?{Width:e.BackgroundWidth,Height:e.BackgroundHeight}:{Width:e.Size.Width,Height:e.Size.Height}})(_),Y=(e=>{if("data"in e){const{resolveTaskRef:t}=l();return t(e.data.PositionBackground)}return e.PositionBackground?e.PositionBackground:e.PositionBackgroundLeft&&e.PositionBackgroundTop?{PositionTop:e.PositionBackgroundTop,PositionLeft:e.PositionBackgroundLeft}:e.PositionBackground})(_),X="data"in _?_.data.OpacityBackground:_.OpacityBackground,J={width:parseFloat(null!==(t=("data"in _?_.data.Size:null!==(n=_.Size)&&void 0!==n?n:_).Width)&&void 0!==t?t:"0"),height:parseFloat(null!==(o=("data"in _?_.data.Size:null!==(a=_.Size)&&void 0!==a?a:_).Height)&&void 0!==o?o:"0")},ee=(0,r.useMemo)((()=>({onClick:z,onMouseEnter:D,onMouseLeave:F})),[z,D,F]),te=St(_).concat(q),ne=new Map,re=null!==(s=null!==(d=_[i.B.ContainerBoxes])&&void 0!==d?d:_.containerBoxes)&&void 0!==s?s:[];if(re.forEach((e=>{var t,n,r;const o=null===N||void 0===N?void 0:N.get(e.Id);ne.set(e.Id,{containedItems:[],side:null===o||void 0===o?void 0:o.side,cardItems:new Map,group:null!==(t=null===e||void 0===e||null===(n=e.group)||void 0===n?void 0:n.map((e=>e.id)))&&void 0!==t?t:[],currentIndexCard:null!==(r=null===o||void 0===o?void 0:o.currentIndexCard)&&void 0!==r?r:0})})),N){const e=re.length;e!==N.size&&console.warn(`containerBoxStateMap size (${N.size}) does not match slide containerBoxes count (${e}) for slide ${_.Id}. This may cause display issues.`)}const oe=[];let ie=0;te.forEach((e=>{const t=I(e);if((0,c.Kb)(t)&&t.containerBoxId){const r=ne.get(t.containerBoxId);if(!r)return void console.warn(`Item ${t.Id} references container box ${t.containerBoxId} which is not found in slideContainerBoxStateMap for slide ${_.Id}`);if(r.containedItems.push(e),"containerBoxCardId"in t&&t.containerBoxCardId){var n;const o=null!==(n=r.cardItems.get(t.containerBoxCardId))&&void 0!==n?n:[];o.push(e),r.cardItems.set(t.containerBoxCardId,o)}}if("isTransversal"in t&&t.isTransversal&&"includedSlideIds"in t&&!t.includedSlideIds.includes(_.Id))oe.push(t.Id);else{const e="ZIndex"in t&&t.ZIndex?Number(t.ZIndex):0;e>ie&&(ie=e)}}));const ae={slide:{items:te,containerBoxStateMap:ne,size:J,highestZIndex:ie},delta:P,canBeTranslated:T,documentConfig:$,t:G,renderItem:M,isVideoVisualizationForbidden:O,isOffline:H,isCriticalThumbnail:Z},se=e=>!oe.includes(e.Id),le=e=>{const t=I(e);return!(0,c.Kb)(t)||(t.containerBoxSide===c.Uv.Front||void 0===t.containerBoxSide)},de=e=>{var t;const n=I(e);if(!(0,c.Kb)(n))return!0;if(!(0,c.Rs)(n))return!0;const r=null===(t=N||ne)||void 0===t?void 0:t.get(n.containerBoxId);if(!r||!r.group||0===r.group.length)return!0;const o=r.group[r.currentIndexCard];return n.containerBoxCardId===o||void 0===n.containerBoxCardId},ce=e=>e.filter(se).filter(le).filter(de),ue=ce(null!==(m=_[i.B.Activities])&&void 0!==m?m:[]),me=ce(null!==(h=_[i.B.Areas])&&void 0!==h?h:[]),he=ce(null!==(g=_[i.B.Arrows])&&void 0!==g?g:[]),pe=ce(null!==(f=_[i.B.BaseWidgets])&&void 0!==f?f:[]),ve=ce(null!==(w=_[i.B.ContainerBoxes])&&void 0!==w?w:[]),ge=ce(null!==(y=_[i.B.Charts])&&void 0!==y?y:[]),fe=ce(null!==(b=_[i.B.Groups])&&void 0!==b?b:[]),we=ce(null!==(x=_[i.B.Images])&&void 0!==x?x:[]),Ie=(null!==(C=_[i.B.Pins])&&void 0!==C?C:[]).filter(se),ye=ce(null!==(S=_[i.B.RichContents])&&void 0!==S?S:[]),be=ce(null!==(A=_[i.B.Svgs])&&void 0!==A?A:[]),xe=ce(null!==(B=_[i.B.Texts])&&void 0!==B?B:[]),Ce=ce(null!==(k=_[i.B.WidgetsAudio])&&void 0!==k?k:[]),Se=ce(null!==(E=_[i.B.WidgetsVideo])&&void 0!==E?E:[]);return r.createElement(v.Provider,{value:ae},r.createElement(p,{key:_.Id,backgroundImageOpacity:X,backgroundImage:U,backgroundImageSize:K,backgroundImagePosition:Y,backgroundColor:j,onClick:R}),[...Bt(ue,u.S.Activity),...Bt(me,u.S.Area),...Bt(he,u.S.Arrow),...Bt(pe,u.S.BaseWidget),...Bt(ve,u.S.ContainerBox),...Bt(ge,u.S.Chart),...Bt(fe,u.S.Group),...Bt(we,u.S.Image),...Bt(Ie,u.S.Pin),...Bt(ye,u.S.RichContent),...Bt(be,u.S.Svg),...Bt(xe,u.S.Text),...Bt(Ce,u.S.WidgetAudio),...Bt(Se,u.S.WidgetVideo),...q.map((e=>Bt([e],e.type))).flat()].map((e=>{let{item:t,itemType:n}=e;return r.createElement(Ct,{key:t.Id,itemType:n,item:t,parentGroupItem:void 0,directParentContainerBoxItem:void 0,indirectParentContainerBoxItem:void 0,events:ee,onMount:W,isDeveloperMode:V})})))})),Et=kt}}]);
//# sourceMappingURL=https://s3-static-genially.genially.com/view/static/js/slideThumbnail.b13cf538.chunk.js.map